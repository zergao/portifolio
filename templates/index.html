{% extends "base.html" %}
{% block content %}
<h1>Produtos</h1>

<!-- Indicadores de Quantidade para Designers, Equipes e Coleções -->
<div class="row mb-4">
  <div class="col-md-4">
    <h4>Designers</h4>
    <ul class="list-group">
      {% for designer, count in designer_counts %}
      <li class="list-group-item d-flex justify-content-between align-items-center">
        {{ designer.nome }}
        <span class="badge badge-primary badge-pill">{{ count }}</span>
      </li>
      {% endfor %}
    </ul>
  </div>
  <div class="col-md-4">
    <h4>Equipes</h4>
    <ul class="list-group">
      {% for equipe, count in equipe_counts %}
      <li class="list-group-item d-flex justify-content-between align-items-center">
        {{ equipe.nome }}
        <span class="badge badge-primary badge-pill">{{ count }}</span>
      </li>
      {% endfor %}
    </ul>
  </div>
  <div class="col-md-4">
    <h4>Coleções</h4>
    <ul class="list-group">
      {% for colecao, count in colecao_counts %}
      <li class="list-group-item d-flex justify-content-between align-items-center">
        {{ colecao.nome }}
        <span class="badge badge-primary badge-pill">{{ count }}</span>
      </li>
      {% endfor %}
    </ul>
  </div>
</div>

<!-- Listagem dos Produtos -->
<div class="row">
  {% for produto in produtos %}
  <div class="col-md-4">
      <div class="card mb-4">
          {% if produto.foto_tumblr %}
          <img src="{{ url_for('static', filename='uploads/' ~ produto.foto_tumblr) }}" class="card-img-top uniform-img" alt="{{ produto.nome }}">
          {% endif %}
          <div class="card-body">
              <h5 class="card-title">{{ produto.nome }}</h5>
              <p class="card-text">{{ produto.descricao }}</p>
              <p class="card-text"><small class="text-muted">Designer: {{ produto.designer.nome }}</small></p>
              <p class="card-text"><small class="text-muted">Equipe: {{ produto.equipe.nome }}</small></p>
              <a href="{{ url_for('editar', produto_id=produto.id) }}" class="btn btn-warning btn-sm">Editar</a>
          </div>
      </div>
  </div>
  {% endfor %}
</div>
{% endblock %}
